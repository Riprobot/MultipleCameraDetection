# –ú–Ω–æ–≥–æ–∫–∞–º–µ—Ä–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π —Å –æ—Ç—Å–µ–∏–≤–∞–Ω–∏–µ–º –º–∞–Ω–µ–∫–µ–Ω–æ–≤

–°–∏—Å—Ç–µ–º–∞ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –ª—é–¥–µ–π –Ω–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–º–µ—Ä –≤ –º–∞–≥–∞–∑–∏–Ω–µ, –ø—Ä–∏ —ç—Ç–æ–º –∏—Å–∫–ª—é—á–∞—è –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –º–∞–Ω–µ–∫–µ–Ω–∞—Ö.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ data/  
‚îÇ   ‚îú‚îÄ‚îÄ calibration1.py            # –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∫–∞–º–µ—Ä—ã 1  
‚îÇ   ‚îú‚îÄ‚îÄ calibration2.py            # –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∫–∞–º–µ—Ä—ã 2  
‚îÇ   ‚îú‚îÄ‚îÄ ‚Ä¶  
‚îÇ   ‚îî‚îÄ‚îÄ calibrationN.py            # —Å–æ–¥–µ—Ä–∂–∏—Ç:  
‚îÇ       ‚Ä¢ imgpoints ‚Äî 2D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–µ–∫ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏  
‚îÇ       ‚Ä¢ objpoints ‚Äî 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–µ—Ö –∂–µ —Ç–æ—á–µ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ  
‚îÇ       ‚Ä¢ mannequin_footpoints ‚Äî –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω—ã–µ ¬´—Ç–æ—á–∫–∏ –æ–ø–æ—Ä—ã¬ª –º–∞–Ω–µ–∫–µ–Ω–æ–≤  
‚îÇ
‚îú‚îÄ‚îÄ experiments/                   
‚îÇ   ‚îú‚îÄ‚îÄ single_cam_topdown.py      # –¥–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ –æ–¥–Ω–æ–π –∫–∞–º–µ—Ä–µ  
‚îÇ   ‚îú‚îÄ‚îÄ 2camera_topdown.py         # —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–∞ –¥–≤—É—Ö –∫–∞–º–µ—Ä–∞—Ö  
‚îÇ   ‚îú‚îÄ‚îÄ test2.ipynb                # Jupyter-–Ω–æ—É—Ç–±—É–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞  
‚îÇ   ‚îú‚îÄ‚îÄ multiple_camera_topdown_kalman.py  
‚îÇ   ‚îî‚îÄ‚îÄ kalman_filtering.py        # —Ñ–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞  
‚îÇ
‚îú‚îÄ‚îÄ src/                           
‚îÇ   ‚îú‚îÄ‚îÄ camera_calib.py            # –∫–ª–∞—Å—Å Camera: –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–∏—Å—Ç–æ—Ä—Å–∏–∏  
‚îÇ   ‚îú‚îÄ‚îÄ multiple_camera_topdown.py # –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏  
‚îÇ   ‚îú‚îÄ‚îÄ my_botsort.yaml            # –∫–æ–Ω—Ñ–∏–≥ —Ç—Ä–µ–∫–µ—Ä–∞ BotSort  
‚îÇ   ‚îú‚îÄ‚îÄ reid.py                    # –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è —Ä–µ-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏  
‚îÇ   ‚îî‚îÄ‚îÄ result_aggregator.py       # —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤  
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt               # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏  
‚îî‚îÄ‚îÄ README.md                      # —ç—Ç–æ—Ç —Ñ–∞–π–ª  
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**  
   ```bash
   git clone https://github.com/–≤–∞—à-—Ä–µ–ø–æ/multi-cam-detection.git
   cd multi-cam-detection
   ```
2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)  
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```
3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**  
   ```bash
   pip install -r requirements.txt
   ```

---

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python3 src/multiple_camera_topdown.py
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç:

1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –∏–∑ `data/calibration*.py`.  
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∏ `data/cam*.mp4`.  
3. –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ—Ç–µ–∫—Ü–∏—é –ª—é–¥–µ–π (–∫–ª–∞—Å—Å 0) —Å –ø–æ–º–æ—â—å—é YOLO + BotSort.  
4. –û—Ç—Å–µ–∫–∞–µ—Ç –º–∞–Ω–µ–∫–µ–Ω—ã –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º ¬´—Ç–æ—á–∫–∞–º –æ–ø–æ—Ä—ã¬ª.  
5. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ¬´—Å—Ç—É–ø–Ω–µ–π¬ª –≤ –º–µ—Ç—Ä—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞.  
6. –ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ç—Ä–µ–∫–∏ –º–µ–∂–¥—É –∫–∞–º–µ—Ä–∞–º–∏.  
7. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   - `output_cam<i>_annotated.mp4` ‚Äî –≤–∏–¥–µ–æ —Å —Ä–∞–º–∫–∞–º–∏ –∏ ID  
   - `output_topdown_raw.mp4` ‚Äî ¬´—Å—ã—Ä–æ–µ¬ª —Ç–æ–ø-down –≤–∏–¥–µ–æ  
   - `output_topdown_smoothed.mp4` ‚Äî —Å–≥–ª–∞–∂–µ–Ω–Ω–æ–µ —Ç–æ–ø-down –≤–∏–¥–µ–æ  

---

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### camera_calib.py  
**Camera**:
- –ß–∏—Ç–∞–µ—Ç `imgpoints`/`objpoints` –∏–∑ —Ñ–∞–π–ª–æ–≤ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.  
- –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥–∏—Å—Ç–æ—Ä—Å–∏—é –æ–±—ä–µ–∫—Ç–∏–≤–∞.  
- –í—ã—á–∏—Å–ª—è–µ—Ç –≥–æ–º–æ–≥—Ä–∞—Ñ–∏—é –¥–ª—è –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –ø–æ–ª–∞.  
- –ü—Ä–æ–µ—Ü–∏—Ä—É–µ—Ç –ø–∏–∫—Å–µ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ ¬´—Å—Ç—É–ø–Ω–µ–π¬ª –≤ –º–∏—Ä–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.

### multiple_camera_topdown.py  
–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç:
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä, –º–æ–¥–µ–ª–µ–π YOLO –∏ —Ç—Ä–µ–∫–µ—Ä–æ–≤ BotSort.  
2. –°—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∫–∞–¥—Ä–æ–≤ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª—é–¥–µ–π.  
3. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –º–∞–Ω–µ–∫–µ–Ω–æ–≤ –ø–æ ¬´—Ç–æ—á–∫–∞–º –æ–ø–æ—Ä—ã¬ª.  
4. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç ¬´—Å—Ç—É–ø–Ω–µ–π¬ª.  
5. –ú–µ–∂–∫–∞–º–µ—Ä–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è.  
6. –ó–∞–ø–∏—Å—å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ.

### reid.py  
–§—É–Ω–∫—Ü–∏—è **get_features(xyxys, img)**:
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ —Ä–µ-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ BotSort.

### result_aggregator.py  
**Aggregator**:
1. –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –ø–æ –∫–∞–¥—Ä–∞–º.  
2. –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≤ PID-—Ç—Ä–µ–∫–∏ –ø–æ IoU –∏ –º–µ—Ç–∫–∞–º.  
3. –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π.  
4. –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π —Å–∫–æ–ª—å–∑—è—â–∏–º –æ–∫–Ω–æ–º.  
5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ¬´—Å—ã—Ä–æ–≥–æ¬ª –∏ ¬´—Å–≥–ª–∞–∂–µ–Ω–Ω–æ–≥–æ¬ª —Ç–æ–ø-down –≤–∏–¥–µ–æ.

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **data/calibration*.py** ‚Äî —Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –∫–∞–º–µ—Ä –∏ –æ–ø–æ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏ –º–∞–Ω–µ–∫–µ–Ω–æ–≤.  
- **src/my_botsort.yaml** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–µ–∫–µ—Ä–∞ BotSort (IoU, –ø–æ—Ä–æ–≥–∏, –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã).

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ `LICENSE`.  
